
#ifdef __cplusplus
extern "C"
{
#endif

#ifndef __EFUSE_BURN_H__
#define __EFUSE_BURN_H__

#include <types.h>

#define EFUSE_NANDC_DEBUG

#ifdef EFUSE_NANDC_DEBUG
#define PRINT_MSG(fmt,...)  /*lint -save -e515 */ cprintf(fmt, ##__VA_ARGS__) /*lint -restore */ 
#else
#define PRINT_MSG(fmt,...)
#endif

/**
 * Follow configuration is just for v7r2 e5 dcm.
 */

#define EFUSE_NANDC_GROUP_END_BIT  		511 
#define EFUSE_BITS_NUMBER_PER_GROUP     32
#define EFUSE_NANDC_GROUP_START_BIT 	(EFUSE_NANDC_GROUP_END_BIT - EFUSE_BITS_NUMBER_PER_GROUP + 1) /* 480 */

#define EFUSE_NANDC_GROUP_OFFSET   		(EFUSE_NANDC_GROUP_START_BIT / EFUSE_BITS_NUMBER_PER_GROUP)
#define EFUSE_NANDC_GROUP_LENGTH   		((EFUSE_NANDC_GROUP_END_BIT - EFUSE_NANDC_GROUP_START_BIT + 1) / EFUSE_BITS_NUMBER_PER_GROUP)    			/* 1 group */

#define EFUSE_NANDC_BLOCKSIZE_START_BIT 496
#define EFUSE_NANDC_BLOCKSIZE_SHIFT 	(EFUSE_NANDC_BLOCKSIZE_START_BIT - EFUSE_NANDC_GROUP_START_BIT)
#define EFUSE_NANDC_BLOCKSIZE_64PAGE    (0 << EFUSE_NANDC_BLOCKSIZE_SHIFT)
#define EFUSE_NANDC_BLOCKSIZE_128PAGE   (1 << EFUSE_NANDC_BLOCKSIZE_SHIFT)

#define EFUSE_NANDC_ECCTYPE_START_BIT 	497 
#define EFUSE_NANDC_ECCTYPE_SHIFT		(EFUSE_NANDC_ECCTYPE_START_BIT - EFUSE_NANDC_GROUP_START_BIT)
#define EFUSE_NANDC_ECCTYPE_NONE	    (0 << EFUSE_NANDC_ECCTYPE_SHIFT)
#define EFUSE_NANDC_ECCTYPE_1BIT	    (1 << EFUSE_NANDC_ECCTYPE_SHIFT)
#define EFUSE_NANDC_ECCTYPE_4BIT	    (1 << EFUSE_NANDC_ECCTYPE_SHIFT) 
#define EFUSE_NANDC_ECCTYPE_8BIT		(3 << EFUSE_NANDC_ECCTYPE_SHIFT)

#define EFUSE_NANDC_PAGESIZE_START_BIT 	 500
#define EFUSE_NANDC_PAGESIZE_SHIFT		(EFUSE_NANDC_PAGESIZE_START_BIT - EFUSE_NANDC_GROUP_START_BIT)
#define EFUSE_NANDC_PAGESIZE_hK			(0 << EFUSE_NANDC_PAGESIZE_SHIFT)
#define EFUSE_NANDC_PAGESIZE_2K			(1 << EFUSE_NANDC_PAGESIZE_SHIFT)
#define EFUSE_NANDC_PAGESIZE_4K			(3 << EFUSE_NANDC_PAGESIZE_SHIFT) 
#define EFUSE_NANDC_PAGESIZE_8K			(2 << EFUSE_NANDC_PAGESIZE_SHIFT) 

#define EFUSE_NANDC_ADDRNUM_START_BIT 	502 
#define EFUSE_NANDC_ADDRNUM_SHIFT		(EFUSE_NANDC_ADDRNUM_START_BIT - EFUSE_NANDC_GROUP_START_BIT)
#define EFUSE_NANDC_ADDRNUM_4CYCLE		(0 << EFUSE_NANDC_ADDRNUM_SHIFT)
#define EFUSE_NANDC_ADDRNUM_5CYCLE		(1 << EFUSE_NANDC_ADDRNUM_SHIFT)

#define EFUSE_CONF_FLAG_BIT             505 
#define EFUSE_CONF_FLAG_SHIFT           (EFUSE_CONF_FLAG_BIT - EFUSE_NANDC_GROUP_START_BIT)
#define EFUSE_CONF_FROM_EFUSE           (1 << EFUSE_CONF_FLAG_SHIFT)
#define EFUSE_CONF_FROM_PIN             (0 << EFUSE_CONF_FLAG_SHIFT)

#define EFUSE_NANDC_BURNFLAG_BIT	    EFUSE_CONF_FLAG_BIT 
#define EFUSE_NANDC_BURNFLAG_SHIFT		(EFUSE_NANDC_BURNFLAG_BIT - EFUSE_NANDC_GROUP_START_BIT)
#define EFUSE_NANDC_BURNFLAG_NOTBURN	EFUSE_CONF_FROM_PIN
#define EFUSE_NANDC_BURNFLAG_HADBURN	EFUSE_CONF_FROM_EFUSE
/* end check position */

#define EFUSE_NANDC_HAD_BURN            1
#define EFUSE_NANDC_NOT_BURN            0

s32 burn_efuse_nandc(void);

#endif /* __EFUSE_BURN_H__ */

#ifdef __cplusplus
}
#endif
